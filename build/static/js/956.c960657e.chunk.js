"use strict";(self.webpackChunkaflam_tv=self.webpackChunkaflam_tv||[]).push([[956],{8956:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(3433),s=r(4165),l=r(5861),a=r(9439),i=r(2791),c=r(1687),o=r(184),u=(0,i.memo)((function(e){var t=e.genres,r=e.setGenres,a=e.selectedGenres,u=e.setSelectedGenres;return(0,i.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.ZP.get("genre/movie/list?api_key=".concat(c.$h,"&language=en-US"));case 3:t=e.sent,n=t.data,r(null===n||void 0===n?void 0:n.genres),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,o.jsx)("div",{className:"bg-lightColor dark:bg-darkBlue",children:(0,o.jsx)("div",{className:"container mx-auto px-[15px] py-5",children:(0,o.jsx)("div",{className:"",children:(0,o.jsxs)("ul",{className:"flex items-center gap-x-[0.7rem] flex-wrap",children:[null===a||void 0===a?void 0:a.map((function(e,s){return(0,o.jsxs)("li",{className:"mb-[0.8rem] xxs:mb-[0.5rem] bg-lightBlue text-lightColor font-semibold dark:text-darkBlue xxs:text-[0.7rem] text-[0.9rem] xxs:px-[0.4rem] px-[0.6rem] xxs:py-[0.2rem] py-[0.3rem] rounded-[20px] ",children:[e.name," ",(0,o.jsx)("span",{className:"bg-main/80 text-darkColor rounded-[30px] px-[0.4rem] text-[0.8rem] ml-[0.5rem] cursor-pointer font-medium",onClick:function(){return function(e){u(null===a||void 0===a?void 0:a.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)}))),r([].concat((0,n.Z)(t),[e]))}(e)},children:"X"})]},"".concat(e.id,"-").concat(s))})),null===t||void 0===t?void 0:t.map((function(e,s){return(0,o.jsx)("li",{className:"mb-[0.8rem] xxs:mb-[0.5rem] bg-darkBlue dark:bg-lightColor text-lightColor xxs:text-[0.8rem] dark:text-darkBlue cursor-pointer xxs:px-[0.6rem] xxs:py-[0.3rem] px-[0.7rem] py-[0.5rem] rounded-[20px] font-medium",onClick:function(){!function(e){u([].concat((0,n.Z)(a),[e])),r(null===t||void 0===t?void 0:t.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)})))}(e)},children:e.name},"".concat(e.id,"-").concat(s))}))]})})})})})),d=u,x=r(2879),m=r(6961),f=r(558),p=r(4235),g=function(){var e,t=(0,i.useState)([]),r=(0,a.Z)(t,2),u=r[0],g=r[1],v=(0,i.useState)([]),h=(0,a.Z)(v,2),k=h[0],b=h[1],j=(0,i.useState)([]),y=(0,a.Z)(j,2),Z=y[0],w=y[1],N=(0,i.useState)(1),S=(0,a.Z)(N,2),C=S[0],_=S[1],B=(0,i.useState)(0),G=(0,a.Z)(B,2),P=G[0],E=G[1],A=(0,i.useState)(!1),U=(0,a.Z)(A,2),W=U[0],$=U[1],F=(0,i.useState)(!1),M=(0,a.Z)(F,2),T=M[0],X=M[1],q=(e=Z).length<1?"":(null===e||void 0===e?void 0:e.map((function(e){return e.id}))).reduce((function(e,t){return e+","+t}));return(0,i.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),e.prev=1,e.next=4,c.ZP.get("discover/movie?api_key=".concat(c.$h,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(C,"&with_genres=").concat(q));case 4:t=e.sent,r=t.data,b(null===r||void 0===r?void 0:r.results),E(null===r||void 0===r?void 0:r.total_pages),X(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),$(!0),X(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[C,q]),(0,i.useEffect)((function(){window.scrollTo(0,0)}),[]),(0,o.jsx)(o.Fragment,{children:W?(0,o.jsx)("div",{className:"h-screen bg-lightColor dark:bg-darkBlue flex justify-center items-center",children:(0,o.jsx)("h2",{className:"text-[1.2rem] font-semibold text-main",children:"Sorry, Something Went Wrong!"})}):(0,o.jsxs)(m.Z,{title:"All-Movies",children:[(0,o.jsx)(d,{genres:u,setGenres:g,selectedGenres:Z,setSelectedGenres:w}),(0,o.jsx)("div",{className:"w-full bg-lightColor dark:bg-darkBlue height-screen",children:(0,o.jsx)("div",{className:"container px-[15px] py-4 mx-auto",children:(0,o.jsx)("div",{className:"grid xxs:justify-items-center xxs:grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-y-[1.2rem] xs:gap-x-[1.5rem] xxs:gap-x-[1.1rem] mb-[1.3rem]",children:T?(0,n.Z)(Array(20).keys()).map((function(e){return(0,o.jsx)(f.Z,{},e)})):0===k.length?(0,o.jsx)("div",{className:"w-full col-span-full flex justify-center mt-[3rem]",children:(0,o.jsx)("h2",{className:"text-darkBlue dark:text-lightColor text-[1.2rem] font-semibold",children:"Sorry, there are no results here."})}):null===k||void 0===k?void 0:k.map((function(e,t){return(0,o.jsx)(p.default,{movie:e,styles:"h-90 xxs:w-[138px] w-[190px] md:w-[228px] lg:w-[240px]"},"".concat(e.id,"-").concat(t))}))})})}),k.length>0&&P>1&&(0,o.jsx)(x.Z,{currentPage:C,setCurrentPage:_,totalPages:P})]})})}}}]);
//# sourceMappingURL=956.c960657e.chunk.js.map