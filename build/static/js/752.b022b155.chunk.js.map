{"version":3,"file":"static/js/752.b022b155.chunk.js","mappings":"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","sources":["api.js","components/PageTitle.jsx","pages/MyAccount.jsx"],"sourcesContent":["import axios from 'axios';\r\nexport const images = 'https://image.tmdb.org/t/p/'\r\nexport const API_KEY='e4997fa5c977c3bda84aaa43465c7a03'\r\nconst instance = axios.create({\r\n    baseURL: 'https://api.themoviedb.org/3/'\r\n})\r\nexport default instance;","import React, { useEffect } from \"react\";\r\n\r\nconst PageTitle = ({ children, title }) => {\r\n  useEffect(() => {\r\n    document.title = `AFLAM.TV | ${title ? title : \"Watch Movies\"}`;\r\n  }, [title])\r\n  return <div>{children}</div>;\r\n};\r\n\r\nexport default PageTitle;\r\n","import Image from \"../assets/aflam02.jpg\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { UserAuth } from \"../context/authContext\";\r\nimport { db } from \"../firebase\";\r\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\r\nimport Preloader from \"../components/Preloader\";\r\nimport { images } from \"../api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PageTitle from \"../components/PageTitle\";\r\nimport NoImage from '../assets/no-image01.jpg'\r\nconst MyAccount = () => {\r\n  const { user } = UserAuth();\r\n  const [movies, setMovies] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      setLoading(true)\r\n      try {\r\n        const docSnap = await getDoc(doc(db, \"users\", `${user?.email}`));\r\n        const moviesData = await docSnap.data().savedMovies;\r\n        setMovies(moviesData);\r\n        setLoading(false)\r\n      } catch (err) {\r\n        setLoading(false);\r\n        console.log(err.message);\r\n      }\r\n    }\r\n    getData();\r\n  }, [user?.email]);\r\n  const movieRef = doc(db, \"users\", `${user?.email}`);\r\n  const deleteMovie = async (mId) => {\r\n    try {\r\n      const result = movies?.filter((el) => el.id !== mId);\r\n      setMovies(result);\r\n      await updateDoc(movieRef, {\r\n        savedMovies: result,\r\n      });\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <PageTitle title=\"Your Favorite Movies\">\r\n      <div className=\" w-full min-h-screen bg-lightColor dark:bg-darkBlue\">\r\n        <div className=\"relative h-[150px] sm:h-[190px] md:h-[250px] lg:h-[300px] w-full\">\r\n          <img className=\"w-full h-full object-cover\" src={Image} alt=\"/\" />\r\n          <div className=\"absolute bg-darkBlue/50 dark:bg-darkBlue/60 w-full top-0 h-full\"></div>\r\n          <div className=\"absolute top-16 left-7 sm:top-20 sm:left-14 md:top-28 md:left-14 lg:top-36 lg:left-20\">\r\n            <h2 className=\"text-lightColor font-bold text-[1.2rem] sm:text-[1.4rem] md:text-[1.6rem]\">\r\n              My Favorite Movies\r\n            </h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"py-10 md:py-16 lg:py-18 bg-lightColor dark:bg-darkBlue\">\r\n          {loading ? (\r\n            <Preloader styles=\"justify-center mt-[3rem]\" />\r\n          ) : (\r\n            <div>\r\n              {movies?.length > 0 ? (\r\n                <div className=\"container px-[20px] mx-auto \">\r\n                  <div className=\"flex flex-wrap gap-x-[0.7rem] xs:justify-center xxs:justify-center\">\r\n                    {movies?.map((movie) => (\r\n                      <div\r\n                        key={movie.id}\r\n                        className=\"w-[90%] sm:w-[45%] md:w-[30%] lg:w-[24%] xl:w-[20%] flex h-[350px] justify-between mb-6 border-border border rounded \"\r\n                      >\r\n                        <div className=\"w-full h-full\">\r\n                          <img\r\n                            className=\"w-full  object-cover rounded-t h-[210px]\"\r\n                            src={movie?.img ? `${images}original/${movie.img}` : NoImage}\r\n                            alt={movie?.title}\r\n                          />\r\n                          <div className=\" mt-4 text-center px-2\">\r\n                            <h3 className=\"text-darkBlue dark:text-lightColor font-semibold text-[0.9rem] \">\r\n                              {movie?.title}\r\n                            </h3>\r\n                            <button\r\n                              className=\"bg-main px-3 py-1 text-lightColor font-medium rounded text-[0.9rem] mt-3\"\r\n                              onClick={() => navigate(`/movie/${movie?.id}`)}\r\n                            >\r\n                              Watch\r\n                            </button>\r\n                            <button\r\n                              className=\"text-lightColor font-medium px-3 py-1 rounded text-[0.9rem] mt-3 ml-3 bg-switchMode\"\r\n                              onClick={() => deleteMovie(movie?.id)}\r\n                            >\r\n                              Remove x\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex justify-center\">\r\n                  <h3 className=\"text-darkBlue dark:text-lightColor font-bold text-[1.2rem]\">\r\n                    Your Favorites Page Is Empty{\" \"}\r\n                  </h3>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </PageTitle>\r\n  );\r\n};\r\nexport default MyAccount;\r\n"],"names":["images","API_KEY","instance","axios","baseURL","_ref","children","title","useEffect","document","concat","_jsx","user","UserAuth","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","loading","setLoading","navigate","useNavigate","getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","docSnap","moviesData","wrap","_context","prev","next","getDoc","doc","db","email","sent","data","savedMovies","t0","console","log","message","stop","apply","arguments","movieRef","deleteMovie","_ref2","_callee2","mId","result","_context2","filter","el","id","updateDoc","_x","PageTitle","_jsxs","className","src","Image","alt","Preloader","styles","length","map","movie","img","NoImage","onClick"],"sourceRoot":""}